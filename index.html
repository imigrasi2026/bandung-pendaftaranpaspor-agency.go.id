<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Agency Imigrasi Indonesia</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.css">
    <style>
        :root {
            --primary-color: #0a4d8c;
            --secondary-color: #f8f9fa;
            --accent-color: #ffc107;
            --text-color: #333;
            --text-light: #6c757d;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: var(--text-color);
            line-height: 1.6;
        }

        /* Header/Navbar */
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 20px;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .navbar-brand img {
            height: 40px;
            width: auto;
        }

        .navbar-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .btn-logout {
            background-color: transparent;
            color: white;
            border: 1px solid white;
            padding: 8px 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .btn-logout:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Banner Slider */
        .banner-section {
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .banner-container {
            display: flex;
            transition: transform 0.5s ease;
            height: 300px;
        }

        .banner-slide {
            min-width: 100%;
            height: 100%;
            position: relative;
        }

        .banner-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .banner-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
            padding: 20px;
            color: white;
        }

        .banner-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .banner-description {
            font-size: 0.9rem;
        }

        .banner-controls {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 15px;
        }

        .banner-btn {
            background-color: rgba(255, 255, 255, 0.5);
            color: var(--primary-color);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .banner-btn:hover {
            background-color: white;
        }

        .banner-indicators {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }

        .indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: var(--transition);
        }

        .indicator.active {
            background-color: white;
            width: 25px;
            border-radius: 5px;
        }

        /* Statistics Section */
        .stats-section {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stats-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            flex: 1;
            min-width: 200px;
            background-color: var(--secondary-color);
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow);
        }

        .stat-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .stat-icon.total {
            color: var(--primary-color);
        }

        .stat-icon.pending {
            color: var(--warning-color);
        }

        .stat-icon.success {
            color: var(--success-color);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .chart-container {
            height: 300px;
            position: relative;
        }

        /* Data Sections */
        .data-section {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
        }

        .data-card {
            background-color: var(--secondary-color);
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition);
        }

        .data-card:hover {
            transform: translateX(5px);
            box-shadow: var(--box-shadow);
        }

        .data-info {
            flex: 1;
        }

        .data-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .data-email {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .data-date {
            color: var(--text-light);
            font-size: 0.85rem;
        }

        .data-nik {
            color: var(--text-light);
            font-size: 0.85rem;
            margin-bottom: 5px;
        }

        .data-office {
            color: var(--text-light);
            font-size: 0.85rem;
            margin-bottom: 5px;
        }

        .data-status {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            margin-right: 15px;
        }

        .status-pending {
            background-color: rgba(255, 193, 7, 0.2);
            color: var(--warning-color);
        }

        .status-completed {
            background-color: rgba(40, 167, 69, 0.2);
            color: var(--success-color);
        }

        .btn-action {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 100px;
        }

        .btn-action:hover {
            background-color: #083b6e;
        }

        .btn-action.loading {
            pointer-events: none;
            opacity: 0.7;
        }

        .btn-text {
            transition: opacity 0.3s;
        }

        .btn-action.loading .btn-text {
            opacity: 0;
        }

        .spinner {
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .btn-action.loading .spinner {
            opacity: 1;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Footer */
        footer {
            background-color: var(--primary-color);
            color: white;
            padding: 20px;
            text-align: center;
            margin-top: 30px;
        }

        /* Popup Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: white;
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            animation: modalFadeIn 0.3s ease;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 20px;
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s;
        }

        .modal-close:hover {
            opacity: 1;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-logo {
            text-align: center;
            margin-bottom: 20px;
        }

        .modal-logo img {
            height: 80px;
            width: auto;
        }

        .info-section {
            margin-bottom: 20px;
        }

        .info-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        .info-item {
            display: flex;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .info-label {
            font-weight: 500;
            width: 180px;
            flex-shrink: 0;
        }

        .info-value {
            flex: 1;
        }

        .copy-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .copy-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 0.85rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .copy-btn:hover {
            background-color: #083b6e;
        }

        .copy-btn.copied {
            background-color: var(--success-color);
        }

        .payment-info {
            background-color: var(--secondary-color);
            border-radius: var(--border-radius);
            padding: 15px;
            margin-top: 20px;
        }

        .payment-amount {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--danger-color);
            margin: 10px 0;
        }

        .countdown-container {
            background-color: var(--warning-color);
            color: white;
            border-radius: var(--border-radius);
            padding: 15px;
            margin-top: 20px;
            text-align: center;
        }

        .countdown-title {
            font-weight: 600;
            margin-bottom: 10px;
        }

        .countdown-timer {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .countdown-timer.expired {
            color: var(--danger-color);
            background-color: rgba(220, 53, 69, 0.1);
            padding: 5px 10px;
            border-radius: var(--border-radius);
            margin-top: 5px;
        }

        .note-section {
            background-color: rgba(220, 53, 69, 0.1);
            border-left: 4px solid var(--danger-color);
            padding: 15px;
            margin-top: 20px;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        .note-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--danger-color);
        }

        .note-content {
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 10px;
            }

            .banner-container {
                height: 200px;
            }

            .stats-container {
                flex-direction: column;
            }

            .data-card {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .data-status {
                margin-right: 0;
                margin-bottom: 10px;
            }

            .info-item {
                flex-direction: column;
            }

            .info-label {
                width: 100%;
                margin-bottom: 5px;
            }

            .copy-container {
                flex-direction: column;
                align-items: flex-start;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
    </style>
</head>
<body>
    <!-- Header/Navbar -->
    <header>
        <nav class="navbar">
            <div class="navbar-brand">
                <img src="https://z-cdn-media.chatglm.cn/files/b4704999-9986-48c6-8553-589bd2121b59.png?auth_key=1867012451-435a9ea69d524e73bff08d29f31dc45d-0-102da10f7f3ea020f06b2c56fb38e6f4" alt="Logo Ditjen Imigrasi">
                <h1 class="navbar-title">Selamat Datang di Akun Agency Imigrasi Indonesia</h1>
            </div>
            <button class="btn-logout" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Banner Slider -->
        <section class="banner-section">
            <div class="banner-container" id="bannerContainer">
                <div class="banner-slide">
                    <img src="https://z-cdn-media.chatglm.cn/files/c7a74960-377d-427f-972e-92c3049c3c36.jpg?auth_key=1867013337-752d7a0b3d574c95ab8a96658d00f96a-0-d6cecf7b363b9efedff03928b222d23a" alt="Banner 1">
                    <div class="banner-overlay">
                        <h3 class="banner-title">Pelayanan Prima untuk Masyarakat</h3>
                        <p class="banner-description">Komitmen kami untuk memberikan pelayanan terbaik</p>
                    </div>
                </div>
                <div class="banner-slide">
                    <img src="https://z-cdn-media.chatglm.cn/files/345b2e2e-2a03-42bd-9d0d-37b4f4fb4e31.jpg?auth_key=1867013337-611f4c33359c4bd58f2a7ce1689da806-0-1ecb8b932ac5e559b651cae1efa4352b" alt="Banner 2">
                    <div class="banner-overlay">
                        <h3 class="banner-title">Inovasi Layanan Imigrasi</h3>
                        <p class="banner-description">Teknologi modern untuk kemudahan proses</p>
                    </div>
                </div>
                <div class="banner-slide">
                    <img src="https://z-cdn-media.chatglm.cn/files/0b5f4781-3ee0-42b2-afe4-37c5a622ccea.jpeg?auth_key=1867013337-57cb193b046047cdbccdaaf3390d8274-0-1334e8792d6527229ecc04d9ca6d88ae" alt="Banner 3">
                    <div class="banner-overlay">
                        <h3 class="banner-title">Layanan Visa dan Paspor</h3>
                        <p class="banner-description">Proses cepat dan transparan untuk kebutuhan dokumen perjalanan</p>
                    </div>
                </div>
                <div class="banner-slide">
                    <img src="https://z-cdn-media.chatglm.cn/files/a8808958-ccff-4149-976f-0c994e63f40b.jpg?auth_key=1867013337-1cce3fabb5a64e0e9a306a8ee3303994-0-c5a68527e5acf559b651cae1efa4352b" alt="Banner 4">
                    <div class="banner-overlay">
                        <h3 class="banner-title">Menuju Indonesia Emas 2045</h3>
                        <p class="banner-description">Transformasi layanan imigrasi untuk masa depan Indonesia</p>
                    </div>
                </div>
            </div>
            <div class="banner-controls">
                <button class="banner-btn" id="prevBtn"><i class="fas fa-chevron-left"></i></button>
                <button class="banner-btn" id="nextBtn"><i class="fas fa-chevron-right"></i></button>
            </div>
            <div class="banner-indicators" id="indicators"></div>
        </section>

        <!-- Statistics Section -->
        <section class="stats-section fade-in">
            <h2 class="section-title">
                <i class="fas fa-chart-bar"></i>
                Statistik Pendaftaran
            </h2>
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon total">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-value">247</div>
                    <div class="stat-label">Total Pendaftaran</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon pending">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-value">1</div>
                    <div class="stat-label">Menunggu Verifikasi</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon success">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-value">246</div>
                    <div class="stat-label">Data Berhasil</div>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="statsChart"></canvas>
            </div>
        </section>

        <!-- Pending Verification Data -->
        <section class="data-section fade-in">
            <h2 class="section-title">
                <i class="fas fa-hourglass-half"></i>
                Data Menunggu Verifikasi
            </h2>
            <div id="pendingData">
                <!-- Data will be populated by JavaScript -->
            </div>
        </section>

        <!-- Completed Data History -->
        <section class="data-section fade-in">
            <h2 class="section-title">
                <i class="fas fa-history"></i>
                Riwayat Data Berhasil
            </h2>
            <div id="completedData">
                <!-- Data will be populated by JavaScript -->
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Direktorat Jenderal Imigrasi Republik Indonesia. Hak Cipta Dilindungi.</p>
    </footer>

    <!-- Payment Modal -->
    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Pembayaran Paspor Baru</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-logo">
                    <img src="https://z-cdn-media.chatglm.cn/files/b4704999-9986-48c6-8553-589bd2121b59.png?auth_key=1867012451-435a9ea69d524e73bff08d29f31dc45d-0-102da10f7f3ea020f06b2c56fb38e6f4" alt="Logo Ditjen Imigrasi">
                </div>

                <div class="info-section">
                    <h4 class="info-title">Informasi Pemohon</h4>
                    <div class="info-item">
                        <div class="info-label">Nama Lengkap:</div>
                        <div class="info-value">HIDAYATULLOH</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">NIK/KTP:</div>
                        <div class="info-value">3205230101000029</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Jenis Permohonan:</div>
                        <div class="info-value">Permohonan Paspor Baru</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Kantor Imigrasi:</div>
                        <div class="info-value">Kantor Imigrasi Bandung</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Catatan:</div>
                        <div class="info-value">Paspor elektronik 5 tahun</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Tanggal Daftar:</div>
                        <div class="info-value">16 Januari 2026</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Status Permohonan:</div>
                        <div class="info-value">Permohonan Baru</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Tanggal Kedatangan:</div>
                        <div class="info-value">Senin, 19 Januari 2026, Pukul 10:00 WIB</div>
                    </div>
                </div>

                <div class="info-section">
                    <h4 class="info-title">Informasi Agency</h4>
                    <div class="info-item">
                        <div class="info-label">ID Agency:</div>
                        <div class="info-value">74550007477</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Nama Agency:</div>
                        <div class="info-value">Sari Ningsih Putri</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Status Jaminan:</div>
                        <div class="info-value">Data terjamin sepenuhnya oleh akun agency</div>
                    </div>
                </div>

                <div class="payment-info">
                    <h4 class="info-title">Informasi Pembayaran</h4>
                    <div class="info-item">
                        <div class="info-label">Jenis Pembayaran:</div>
                        <div class="info-value">Biaya Paspor Baru</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Kode Pembayaran:</div>
                        <div class="copy-container">
                            <div class="info-value" id="paymentCode">910266000002323625</div>
                            <button class="copy-btn" id="copyBtn">
                                <i class="fas fa-copy"></i>
                                <span>Salin</span>
                            </button>
                        </div>
                    </div>
                    <div class="payment-amount">Rp 653.500,00</div>
                </div>

                <div class="countdown-container">
                    <div class="countdown-title">Batas Waktu Pembayaran</div>
                    <div class="countdown-timer" id="countdownTimer">02:00:00</div>
                </div>

                <div class="note-section">
                    <div class="note-title">Penting!</div>
                    <div class="note-content">
                        Mohon lakukan pembayaran dalam batas waktu yang sudah ditentukan. Apabila pembayaran dilakukan di luar batas waktu pembayaran maka kami nyatakan gagal dan akan hangus serta permohonan otomatis ditolak sesuai dengan undang-undang dan pasal yang berlaku dengan hukum acara Kementerian HAM dan Imigrasi. Terima kasih.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Banner Slider
            const bannerContainer = document.getElementById('bannerContainer');
            const slides = bannerContainer.querySelectorAll('.banner-slide');
            const indicatorsContainer = document.getElementById('indicators');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            let currentSlide = 0;
            const totalSlides = slides.length;
            
            // Create indicators
            for (let i = 0; i < totalSlides; i++) {
                const indicator = document.createElement('div');
                indicator.classList.add('indicator');
                if (i === 0) indicator.classList.add('active');
                indicator.addEventListener('click', () => goToSlide(i));
                indicatorsContainer.appendChild(indicator);
            }
            
            const indicators = indicatorsContainer.querySelectorAll('.indicator');
            
            function updateSlide() {
                bannerContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
                
                indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === currentSlide);
                });
            }
            
            function goToSlide(slideIndex) {
                currentSlide = slideIndex;
                updateSlide();
            }
            
            function nextSlide() {
                currentSlide = (currentSlide + 1) % totalSlides;
                updateSlide();
            }
            
            function prevSlide() {
                currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                updateSlide();
            }
            
            prevBtn.addEventListener('click', prevSlide);
            nextBtn.addEventListener('click', nextSlide);
            
            // Auto slide
            setInterval(nextSlide, 5000);
            
            // Statistics Chart
            const ctx = document.getElementById('statsChart').getContext('2d');
            const statsChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Des 1', 'Des 5', 'Des 10', 'Des 15', 'Des 20', 'Des 25', 'Des 30'],
                    datasets: [{
                        label: 'Total Pendaftaran',
                        data: [35, 42, 38, 45, 40, 38, 9],
                        backgroundColor: 'rgba(10, 77, 140, 0.7)',
                        borderColor: 'rgba(10, 77, 140, 1)',
                        borderWidth: 1
                    }, {
                        label: 'Data Berhasil',
                        data: [33, 40, 36, 43, 38, 36, 8],
                        backgroundColor: 'rgba(40, 167, 69, 0.7)',
                        borderColor: 'rgba(40, 167, 69, 1)',
                        borderWidth: 1
                    }, {
                        label: 'Menunggu Verifikasi',
                        data: [2, 2, 2, 2, 2, 2, 1],
                        backgroundColor: 'rgba(255, 193, 7, 0.7)',
                        borderColor: 'rgba(255, 193, 7, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            
            // Function to generate random passport number
            function generatePassportNumber() {
                const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
                const randomLetter = letters.charAt(Math.floor(Math.random() * letters.length));
                const randomDigits = Math.floor(1000000 + Math.random() * 9000000);
                return randomLetter + randomDigits;
            }
            
            // Function to generate random date in December 2025
            function generateRandomDate() {
                const start = new Date(2025, 11, 1); // December 1, 2025
                const end = new Date(2025, 11, 29); // December 29, 2025
                const randomDate = new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));
                return randomDate.toISOString().split('T')[0];
            }
            
            // Function to generate random date in January 2026
            function generateJanuaryDate() {
                const start = new Date(2026, 0, 1); // January 1, 2026
                const end = new Date(2026, 0, 15); // January 15, 2026
                const randomDate = new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));
                return randomDate.toISOString().split('T')[0];
            }
            
            // Pending Data - Updated with new information
            const pendingData = [
                { 
                    name: 'HIDAYATULLOH', 
                    nik: '320523010100029',
                    date: '2026-01-16',
                    time: '10:00:00',
                    status: 'Permohonan Paspor Baru',
                    office: 'Kantor Imigrasi Bandung',
                    arrivalDate: '2026-01-19',
                    arrivalTime: '10:00:00'
                }
            ];
            
            const pendingDataContainer = document.getElementById('pendingData');
            
            pendingData.forEach(data => {
                const dataCard = document.createElement('div');
                dataCard.classList.add('data-card');
                
                dataCard.innerHTML = `
                    <div class="data-info">
                        <div class="data-name">${data.name}</div>
                        <div class="data-nik">NIK/KTP: ${data.nik}</div>
                        <div class="data-office">Kantor Imigrasi: ${data.office}</div>
                        <div class="data-date">Tanggal Daftar: ${formatDate(data.date)}</div>
                        <div class="data-date">Tanggal Kedatangan: ${formatDate(data.arrivalDate)}, ${data.arrivalTime} WIB</div>
                    </div>
                    <div class="data-status status-pending">${data.status}</div>
                    <button class="btn-action" id="continueBtn">
                        <span class="btn-text">Lanjut</span>
                        <div class="spinner"></div>
                    </button>
                `;
                
                pendingDataContainer.appendChild(dataCard);
            });
            
            // Completed Data with some recent dates in January 2026
            const completedData = [
                { name: 'AHMAD RIZKI', passport: generatePassportNumber(), date: '2026-01-15' },
                { name: 'SITI NURJANAH', passport: generatePassportNumber(), date: '2026-01-14' },
                { name: 'BUDI SANTOSO', passport: generatePassportNumber(), date: '2026-01-13' },
                { name: 'RINA WULANDARI', passport: generatePassportNumber(), date: '2026-01-12' },
                { name: 'JOKO PRASETYO', passport: generatePassportNumber(), date: '2026-01-11' },
                { name: 'DEWI LESTARI', passport: generatePassportNumber(), date: generateRandomDate() },
                { name: 'RUDI HERMAWAN', passport: generatePassportNumber(), date: generateRandomDate() },
                { name: 'MAYA PUTRI', passport: generatePassportNumber(), date: generateRandomDate() },
                { name: 'ANDI WIJAYA', passport: generatePassportNumber(), date: generateRandomDate() },
                { name: 'FITRI HANDAYANI', passport: generatePassportNumber(), date: generateRandomDate() },
                { name: 'HENDRA GUNAWAN', passport: generatePassportNumber(), date: generateRandomDate() },
                { name: 'SUSI SUSANTI', passport: generatePassportNumber(), date: generateRandomDate() },
                { name: 'AGUS SALIM', passport: generatePassportNumber(), date: generateRandomDate() },
                { name: 'NINA KARTIKA', passport: generatePassportNumber(), date: generateRandomDate() },
                { name: 'EKO PRASETYO', passport: generatePassportNumber(), date: generateRandomDate() }
            ];
            
            // Sort completed data by date
            completedData.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            const completedDataContainer = document.getElementById('completedData');
            
            completedData.forEach(data => {
                const dataCard = document.createElement('div');
                dataCard.classList.add('data-card');
                
                dataCard.innerHTML = `
                    <div class="data-info">
                        <div class="data-name">${data.name}</div>
                        <div class="data-email">No. Paspor: ${data.passport}</div>
                        <div class="data-date">Tanggal Daftar: ${formatDate(data.date)}</div>
                    </div>
                    <div class="data-status status-completed">Selesai</div>
                `;
                
                completedDataContainer.appendChild(dataCard);
            });
            
            // Continue button with loading animation
            const continueBtn = document.getElementById('continueBtn');
            const paymentModal = document.getElementById('paymentModal');
            const closeModalBtn = document.getElementById('closeModal');
            const copyBtn = document.getElementById('copyBtn');
            const paymentCode = document.getElementById('paymentCode');
            
            continueBtn.addEventListener('click', function() {
                // Add loading state
                this.classList.add('loading');
                this.querySelector('.btn-text').textContent = 'Memuat data imigrasi';
                
                // Simulate loading delay
                setTimeout(() => {
                    // Remove loading state
                    this.classList.remove('loading');
                    this.querySelector('.btn-text').textContent = 'Lanjut';
                    
                    // Show payment modal
                    paymentModal.classList.add('active');
                    
                    // Start countdown timer - Always set to 2 hours
                    startCountdown(2);
                }, 2000);
            });
            
            // Copy button functionality
            copyBtn.addEventListener('click', function() {
                const code = paymentCode.textContent;
                
                // Copy to clipboard
                navigator.clipboard.writeText(code).then(() => {
                    // Change button appearance to show copied
                    this.classList.add('copied');
                    this.innerHTML = '<i class="fas fa-check"></i><span>Tersalin!</span>';
                    
                    // Reset button after 2 seconds
                    setTimeout(() => {
                        this.classList.remove('copied');
                        this.innerHTML = '<i class="fas fa-copy"></i><span>Salin</span>';
                    }, 2000);
                }).catch(err => {
                    // Fallback for older browsers
                    const textArea = document.createElement('textarea');
                    textArea.value = code;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    
                    // Change button appearance to show copied
                    this.classList.add('copied');
                    this.innerHTML = '<i class="fas fa-check"></i><span>Tersalin!</span>';
                    
                    // Reset button after 2 seconds
                    setTimeout(() => {
                        this.classList.remove('copied');
                        this.innerHTML = '<i class="fas fa-copy"></i><span>Salin</span>';
                    }, 2000);
                });
            });
            
            // Close modal
            closeModalBtn.addEventListener('click', function() {
                paymentModal.classList.remove('active');
            });
            
            // Close modal when clicking outside
            paymentModal.addEventListener('click', function(e) {
                if (e.target === paymentModal) {
                    paymentModal.classList.remove('active');
                }
            });
            
            // Countdown timer function - Persistent across page reloads
            function startCountdown(hours) {
                const countdownTimer = document.getElementById('countdownTimer');
                const countdownKey = 'paymentCountdown';
                
                // Clear any existing countdown
                if (window.countdownInterval) {
                    clearInterval(window.countdownInterval);
                }
                
                // Check if there's a saved countdown in localStorage
                let endTime = localStorage.getItem(countdownKey);
                
                if (!endTime) {
                    // If no saved countdown, create a new one
                    endTime = new Date().getTime() + (hours * 60 * 60 * 1000);
                    localStorage.setItem(countdownKey, endTime);
                }
                
                // Update the countdown every second
                window.countdownInterval = setInterval(function() {
                    const now = new Date().getTime();
                    const distance = endTime - now;
                    
                    // Calculate hours, minutes, and seconds
                    const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                    
                    // Display the result
                    countdownTimer.textContent = `${h.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    
                    // If the countdown is finished, display a message
                    if (distance < 0) {
                        clearInterval(window.countdownInterval);
                        countdownTimer.textContent = "Waktu Habis";
                        countdownTimer.classList.add('expired');
                        // Remove the countdown from localStorage
                        localStorage.removeItem(countdownKey);
                    }
                }, 1000);
            }
            
            // Check if there's an active countdown on page load
            window.addEventListener('load', function() {
                const countdownKey = 'paymentCountdown';
                const endTime = localStorage.getItem(countdownKey);
                
                if (endTime) {
                    const now = new Date().getTime();
                    const distance = endTime - now;
                    
                    if (distance > 0) {
                        // If there's still time left, continue the countdown
                        const hours = Math.floor(distance / (1000 * 60 * 60));
                        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                        const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                        
                        // Update the countdown display immediately
                        const countdownTimer = document.getElementById('countdownTimer');
                        countdownTimer.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                        
                        // Start the countdown timer
                        startCountdown(0); // Pass 0 to use the saved end time
                    } else {
                        // If the countdown has expired, remove it from localStorage
                        localStorage.removeItem(countdownKey);
                    }
                }
            });
            
            // Logout button
            document.getElementById('logoutBtn').addEventListener('click', function() {
                if (confirm('Apakah Anda yakin ingin keluar dari sistem?')) {
                    window.location.href = 'login.html';
                }
            });
            
            // Helper functions
            function formatDate(dateString) {
                const options = { day: 'numeric', month: 'long', year: 'numeric' };
                return new Date(dateString).toLocaleDateString('id-ID', options);
            }
            
            // Add fade-in animation to sections when they come into view
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = 1;
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);
            
            document.querySelectorAll('.fade-in').forEach(el => {
                el.style.opacity = 0;
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                observer.observe(el);
            });
        });
    </script>
</body>
</html>
